irVersion: v53
publish:
  preBuildCommands:
    - chmod +x setup-python.sh && ./setup-python.sh
    - poetry install
  dockerFile: ./generators/python/pydantic/Dockerfile
  publishedImageName: fernapi/fern-pydantic-model
test:
  dockerImage: fernapi/fern-pydantic-model:latest
  dockerBuildCommand: docker build -f ./generators/python/pydantic/Dockerfile -t fernapi/fern-pydantic-model:latest ./generators/python
language: python
generatorType: model
defaultOutputMode: github
fixtures:
  exhaustive:
    - customConfig:
        version: v1
      outputFolder: pydantic-v1
    - customConfig:
        version: v2
      outputFolder: pydantic-v2
allowedFailures: 
  - websocket
  # Complex circular refs
  - simple-fhir